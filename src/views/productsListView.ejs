<!DOCTYPE html>
<html>
<head>
  <title>Lista de Productos</title>
</head>
<body>
  <h1>Lista de Productos</h1>
  <% products.forEach(product => { %>
    <div>
      <h2><%= product.name %></h2>
      <p>Precio: <%= product.price %></p>
      <p>Categoría: <%= product.category %></p>
      <% if (showAddToCartButton) { %>
        <form action="/api/carts/<%= cartId %>/product/<%= product._id %>" method="post">
          <input type="number" name="quantity" value="1" min="1" />
          <button type="submit">Agregar al Carrito</button>
        </form>
      <% } else { %>
        <a href="/products/<%= product._id %>">Ver detalles</a>
      <% } %>
    </div>
  <% }); %>
  <% if (pagination && pagination.hasNextPage) { %>
    <a href="/products?page=<%= pagination.nextPage %>">Siguiente página</a>
  <% } %>
</body>
</html>
